<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.paintspray.controller.ClienteController"
      spacing="0" style="-fx-background-color: #F4F6F8;">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20;">
        <FontIcon iconLiteral="mdi2a-account-group" iconSize="32" iconColor="#2980B9"/>
        <Label text="Central de Clientes e Veículos" styleClass="label-title"/>
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <Button text="Novo Cliente" onAction="#handleNovoCliente" styleClass="button-primary">
            <graphic>
                <FontIcon iconLiteral="mdi2a-account-plus" iconSize="16"/>
            </graphic>
        </Button>
    </HBox>

    <!-- SplitPane: Lista de Clientes | Detalhes -->
    <SplitPane dividerPositions="0.35" VBox.vgrow="ALWAYS">
        
        <!-- ESQUERDA: Lista de Clientes -->
        <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20;">
            <!-- Barra de busca -->
            <HBox spacing="10">
                <TextField fx:id="searchField" promptText="Buscar cliente..." 
                          HBox.hgrow="ALWAYS" prefHeight="35"/>
                <Button>
                    <graphic>
                        <FontIcon iconLiteral="mdi2m-magnify" iconSize="18"/>
                    </graphic>
                </Button>
            </HBox>

            <!-- Tabela de Clientes -->
            <TableView fx:id="clienteTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" prefWidth="80"/>
                    <TableColumn fx:id="nomeColumn" text="Nome" prefWidth="150"/>
                    <TableColumn fx:id="telefoneColumn" text="Telefone" prefWidth="120"/>
                </columns>
            </TableView>
        </VBox>

        <!-- DIREITA: Detalhes do Cliente -->
        <VBox fx:id="detalhesPane" spacing="20" style="-fx-background-color: #F4F6F8; -fx-padding: 20;">
            
            <!-- Card de Informações do Cliente -->
            <VBox spacing="10" styleClass="card-pane">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <FontIcon iconLiteral="mdi2a-account-circle" iconSize="48" iconColor="#2980B9"/>
                    
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label fx:id="clienteNomeLabel" text="Nome do Cliente" 
                              style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                        <HBox spacing="5" alignment="CENTER_LEFT">
                            <FontIcon iconLiteral="mdi2m-map-marker" iconSize="14" iconColor="#7F8C8D"/>
                            <Label fx:id="clienteEnderecoLabel" text="Endereço" 
                                  style="-fx-text-fill: #7F8C8D;"/>
                        </HBox>
                        <HBox spacing="5" alignment="CENTER_LEFT">
                            <FontIcon iconLiteral="mdi2p-phone" iconSize="14" iconColor="#7F8C8D"/>
                            <Label fx:id="clienteTelefoneLabel" text="Telefone" 
                                  style="-fx-text-fill: #7F8C8D;"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="5">
                        <Button fx:id="editarClienteBtn" text="Editar" onAction="#handleEditarCliente"
                               styleClass="button-secondary" prefWidth="100"/>
                        <Button fx:id="excluirClienteBtn" text="Excluir" onAction="#handleExcluirCliente"
                               styleClass="button-danger" prefWidth="100"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Seção de Veículos -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Veículos" styleClass="label-subtitle"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="adicionarVeiculoBtn" text="Adicionar Veículo" 
                           onAction="#handleAdicionarVeiculo" styleClass="button-success">
                        <graphic>
                            <FontIcon iconLiteral="mdi2p-plus" iconSize="16"/>
                        </graphic>
                    </Button>
                </HBox>

                <!-- Container de Veículos (ScrollPane) -->
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" 
                           style="-fx-background-color: transparent;">
                    <VBox fx:id="veiculosContainer" spacing="10" style="-fx-background-color: transparent;"/>
                </ScrollPane>
            </VBox>

        </VBox>

    </SplitPane>

</VBox>
